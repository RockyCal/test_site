
<h1>History of Employee: <a href="/harddrives/detailfile/{{owner.name}}/">{{owner.name}}</a></h1>

<ul>
    {% for History in owner.history_set.all %} 
        {% if History.oldowner = owner and not History.newowner.isabox %}
        <li> Checked in 
            <a href="/harddrives/detailfile/{{History.harddrive.file.name}}/"
            >{{ History.harddrive.file.name }}</a>
             To 
            <a href="/harddrives/detailowner/{{History.oldowner.name}}/"
            >{{ History.oldowner.name }}</a>
        </li>
        {% endif %}
    
        {% if History.oldowner = owner and History.newowner.isabox %}
        <li> Gave 
            <a href="/harddrives/detailfile/{{History.harddrive.file.name}}/"
            >{{ History.harddrive.file.name }}</a>
             To 
            <a href="/harddrives/detailowner/{{History.oldowner.name}}/"
            >{{ History.oldowner.name }}</a>
        </li>
        {% endif %}
    
        {% if History.oldowner.isabox and History.newowner = owner %}
        <li> Moved to -
            <a href="/harddrives/detailowner/{{History.newowner.name}}/"
            >{{ History.newowner.name }}</a>
             From -
            <a href="/harddrives/detailowner/{{History.oldowner.name}}/"
            >{{ History.oldowner.name }}</a>
        </li>
        {% endif %}

        {% if not History.oldowner.isabox and History.newowner = owner %}
        <li> Returned to -
            <a href="/harddrives/detailowner/{{History.newowner.name}}/"
            >{{ History.newowner.name }}</a>
             By -
            <a href="/harddrives/detailowner/{{History.oldowner.name}}/"
            >{{ History.oldowner.name }}</a>
        </li>
        {% endif %}
    {% endfor %}
</ul>
